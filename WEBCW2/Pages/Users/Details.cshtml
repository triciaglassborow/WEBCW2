@page
@model WEBCW2.Pages.Users.DetailsModel

@{
	ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
	<h4>User</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			User ID:
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.User.ID)
		</dd>
		<dt class="col-sm-2">
			Last Name:
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.User.LastName)
		</dd>
		<dt class="col-sm-2">
			First Name:
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.User.FirstName)
		</dd>
		<dt class="col-sm-2">
			<p>Longest Time Spent Reading:</p>
		</dt>
		<dd class="col-sm-10">
			@if (Model.LongestTime != null)
			{
				@Html.DisplayFor(model => model.LongestTime)
			}
		</dd>
		<dt class="col-sm-2">
			<p>Total Time Spent Reading:</p>
		</dt>
		<dd class="col-sm-10">
			@if (Model.LongestTime != null)
			{
				@Html.DisplayFor(model => model.TotalTime)
			}
		</dd>
		<dt class="col-sm-2">
			<p>Average Time Spent Reading:</p>
		</dt>
		<dd class="col-sm-10">
			@if (Model.LongestTime != null)
			{
				@Html.DisplayFor(model => model.AverageTime)
			}
		</dd>
		<p></p>

		<dt class="col-sm-2">
			<p>Comedy Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.ComedyCount)</dd>
		<dt class="col-sm-2">
			<p>Tragedy Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.TragedyCount)</dd>
		<dt class="col-sm-2">
			<p>Adventure Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.AdventureCount)</dd>
		<dt class="col-sm-2">
			<p>Horror Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.HorrorCount)</dd>
		<dt class="col-sm-2">
			<p>Fantasy Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.FantasyCount)</dd>
		<dt class="col-sm-2">
			<p>SciFi Books Read</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.SciFiCount)</dd>
		<dt class="col-sm-2">
			<p>Mystery Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.MysteryCount)</dd>
		<dt class="col-sm-2">
			<p>Thriller Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.ThrillerCount)</dd>
		<dt class="col-sm-2">
			<p>Romance Books Read:</p>
		</dt>
		<dd class="col-sm-10">@Html.DisplayFor(model => model.RomanceCount)</dd>

		<h3>Books Read</h3>
	</dl>
	@if (Model.Stats.Count != 0)
	{
		<table class="table">
			<tr>
				<th>
					Book ID
				</th>
				<th>
					Book Title
				</th>
				<th>
					Author ID
				</th>
				<th>
					Author's First Name
				</th>
				<th>
					Author's Last Name
				</th>
				<th>
					Start Date
				</th>
				<th>
					End Date
				</th>
			</tr>
			@foreach (var item in Model.Stats)
			{

				<tr>
					<td>
						@Html.DisplayFor(modelItem => item.BookID)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Book.BookTitle)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Book.Author.ID)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Book.Author.FirstName)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Book.Author.LastName)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.StartDate)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.EndDate)
					</td>
				</tr>
			}
		</table>

	}
	else
	{
		<dd class="col-sm-10">
			<p>You have read no books</p>
		</dd>
	}
</div>
<div>
	<a asp-page="./Edit" asp-route-id="@Model.User?.ID">Edit</a> |
	<a asp-page="../Stats/Create" asp-route-id="@Model.User?.ID">Add book</a> |
	<a asp-page="./Index">Back to List</a>
</div>
